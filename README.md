---

# 🐶 みんなでどうぶつクイズ！ (Animal Voice Quiz)
<img src="./public/images/title.png" alt="A![Uploading スクリーンショット 2025-12-30 152711.png…]()
pp Screenshot" width="400">

<img width="187" height="407" alt="スクリーンショット 2025-12-30 152711" src="https://github.com/user-attachments/assets/48e2bb1b-a4ca-48da-8f4c-033a41d81dbe" />

<img width="400" alt="スクリーンショット 2025-12-30 153248" src="https://github.com/user-attachments/assets/3a2c5a8c-dce2-4f17-a7f1-2a4851b10e8f" />



* 子供が直感的に参加できる、体験重視のどうぶつクイズWebアプリです。
* 操作を極力排除し、「考えて・答える」ことに集中できる設計を重視しています。
* 家族や友達と一緒に、リアクションを楽しみながら遊べます。

---

## 🎮 遊び方

1. **スタートボタン**を押すとゲーム開始！ (画像ロードを待つため、ボタンは少し遅れてふわっと現れます)
2. 画面に表示される画像を見て、答えを考えます。
3. ・どうぶつなら → 名前を答えよう  
   ・どうぶつじゃなかったら → 「どうぶつじゃない！」でもOK
4. 正解すると音声や演出で褒めてくれます。
5. 全10問のランダム出題。最後に集めたキャラクターのコレクション画面が見られます。

---

## ✨ 特徴

* **爆速の画像表示 (3段階プリロード)**: 独自の先行読み込みロジックにより、クイズ中の画像切り替え待ちをゼロに。1問目からストレスなくパッと表示されます。
* **誤反応を防ぐ判定ロジック**: 子供の自然な反応は拾いつつ、周囲のノイズや意図しない入力でゲームが進行しないよう、独自のガード設計を実装。
* **操作最小化UX**: ゲーム中の操作を極力減らし、子供が画面に集中できる体験を重視。
* **反応の気持ちよさ重視設計**: 正解時の音声・演出・テンポを最優先で設計。
* **判断力を育てる「ひっかけ問題」**: 「動物に見えるけど違う」問題が含まれており、「動物じゃありませーん！」と本質を見抜いて答える判断力を養います。

---

## 🛠 技術的なこだわり

※ 以下は「なぜ子供がストレスなく遊べるか」を支える裏側の工夫です。

### 1. 3段階の「ストリーミング・プリロード」

画像の表示遅延による興奮の断絶を防ぐため、裏側で常に先回りして画像をダウンロードします。

* **タイトル画面**: 表示からボタンが出るまでの「タメ」の間に Q1, Q2 をロード。
* **スタート演出中**: 「スタート！」の音声が流れている隙に Q3〜Q5 をロード。
* **回答中**: 正解した瞬間に「2問先」の画像をロードするスライディング・ウィンドウ方式を採用。

### 2. 入力方式に依存しないゲームエンジン設計

将来的な入力方式の変更（音声・タップ・その他）に耐えられるよう、
判定ロジックとUIを分離した設計を採用しています。

### 3. おもちゃのような即応性

* **100ms判定**: 入力確定までの待ち時間を極限まで削り、反応した瞬間にフィードバックが返る「魔法感」を実現しました。
* **UIによる誘導**: タイトルボタンのフェードインや「せーの！」モードにより、子供が喋り出すタイミングを自然にコントロールします。

---

## 🛠 使用技術

* **Framework**: Next.js 14 (App Router)
* **Language**: TypeScript
* **Styling**: Tailwind CSS
* **Voice / Sound**: Web Speech API（音声再生・一部実験的入力）
* **Effect**: canvas-confetti
* **Deployment**: Vercel

---

## 🚀 ローカルでの実行方法

```bash
# リポジトリのクローン
git clone https://github.com/your-username/animal-quiz.git

# ディレクトリ移動
cd animal-quiz

# 依存関係のインストール
npm install

# 開発サーバー起動
npm run dev

# ブラウザで http://localhost:3000 を開いてください。（音声認識のためGoogle Chrome推奨）

```

---

## 📂 ディレクトリ構成

* `app/data/questions.ts`: 出題データ（エイリアス、解説、特殊反応設定）
* `app/hooks/useGameEngine.ts`: クイズの進行、判定、画像ロード制御ロジック
* `app/hooks/useSpeechRecognition.ts`: 音声認識の制御とエラーハンドリング
* `app/hooks/useVoiceController.ts`: ブラウザ音声合成の制御（中断処理・エラーガード）
* `app/components/`: UIコンポーネント（タイトル、ゲーム画面、リザルト）

---

## 🚀 今後の展望

* OpenAI APIを導入し、より自然で感情豊かな音声対話の実装
* 難易度選択（かんたん・ふつう・むずかしい）の追加
* PWA化によるホーム画面への追加対応
* 保育園・教育現場向けに、出題セットを差し替えられる汎用クイズフレームワーク化

---

**【開発者メッセージ】**
お正月など、家族が集まるリビングで、スマホを置いて全員で叫んで遊ぶシーンを想定して作りました。
「操作」ではなく「体験」で世界と繋がる楽しさを！

---
