# 🐶 みんなでどうぶつクイズ！ (Animal Voice Quiz)

<img src="./public/images/title.png" alt="Title Screen" width="400">
<br>
<img src="https://github.com/user-attachments/assets/48e2bb1b-a4ca-48da-8f4c-033a41d81dbe" alt="Game Screen" width="187">
<img src="https://github.com/user-attachments/assets/3a2c5a8c-dce2-4f17-a7f1-2a4851b10e8f" alt="Result Screen" width="400">

<br><br>

> **⚠️ Note: Experimental Project**
>
> 本プロジェクトは、**「Webブラウザ×音声認識」による子供向けUXの可能性を探るための技術検証プロトタイプ（PoC）**です。
> 実環境での検証結果に基づき、現在は実験的な位置づけとして公開しています。

**「声で遊ぶ」体験をWeb技術だけでどこまで実現できるか？**
をテーマに開発した、子供向けの動物クイズアプリです。
キーボードやタップ操作を排除し、画面に向かって「名前を叫ぶ」だけの直感的なインターフェースを目指しました。

---

## 🛠 技術的な挑戦と設計思想

### 1. 3段階のストリーミング・プリロード（UX最適化）
モバイル回線でもテンポを崩さないよう、独自の画像先行読み込みロジックを実装しました。
* **ロジック**: タイトル画面や正解演出の「待ち時間」を利用し、バックグラウンドで2問先までの画像を先読みします。
* **狙い**: 子供の集中力を途切れさせない「待ち時間ゼロ」の体験設計。

### 2. UI/Logic分離型ゲームエンジン
将来的な入力方式の変更（音声 → タップ補助など）を見越し、判定ロジックとUIコンポーネントを分離したアーキテクチャを採用しています。

### 3. Web Speech API の活用
外部APIのコストや通信ラグを排除するため、ブラウザ標準の Web Speech API を採用。
「100ms判定」を目指し、ローカル完結での高速レスポンスを実験しました。

---

## 📊 実機検証とフィードバック (Field Test Results)

年末年始に実際の子供たち（実機環境・多人数）を対象にフィールドテストを行った結果、以下の技術的課題が明確になりました。これらは今後の開発における重要な改善指針です。

### ✅ 成功した点 (Pros)
* **静音環境での没入感**: 静かな部屋で1人で遊ぶ分には、音声認識がスムーズに動作し、魔法のような体験を提供できた。
* **演出の楽しさ**: 正解時のサウンドや紙吹雪エフェクト（canvas-confetti）は子供たちに好評だった。

### ⚠️ 判明した課題 (Cons & Challenges)
* **環境ノイズへの脆弱性**: リビングなど周囲が騒がしい環境や、子供が興奮して叫んだ場合、Web Speech APIの認識精度が著しく低下する。
* **iOS Safariの制約**: iPhone環境において、初期ロード時の音声合成エンジンの起動ラグや、メモリ管理による画像の描画遅延が発生。PC/Androidと比較してパフォーマンスチューニングの余地が大きい。
* **UXのミスマッチ**: 「完全ハンズフリー」を目指したが、実際には認識ミス時のストレス回避のため、「大人が正解ボタンを押してあげる（ハイブリッド操作）」機能の必要性が浮き彫りになった。

---

## 🛠 使用技術

* **Framework**: Next.js 14 (App Router)
* **Language**: TypeScript
* **Styling**: Tailwind CSS
* **Voice / Sound**: Web Speech API (Experimental)
* **Effect**: canvas-confetti
* **Deployment**: Vercel

---

## 🚀 今後の展望 (Roadmap)

フィールドテストの結果を受け、現在は以下の改修を計画しています。

1.  **ハイブリッド入力モードの実装**: 音声認識を補助とし、基本進行をタップ操作（保護者アシスト）で行えるモードの追加。
2.  **音声エンジンの刷新**: Web標準APIの限界を超えた体験を作るため、OpenAI Realtime API などのサーバーサイド音声認識の導入検討。
3.  **PWA化とオフライン対応**: 画像キャッシュ戦略の見直しによる、モバイル端末でのロード時間短縮。

---

**【開発者メッセージ】**
「子供の声を拾う」ことの難しさと、Webブラウザでリアルタイム性を追求するハードルの高さを痛感したプロジェクトでした。
しかし、画面に向かって「ぞうさん！」と叫んで正解した時の子供の笑顔は、何にも代えがたい体験です。
実用化には課題が残りましたが、**「体験ファースト」なUI設計の実験場**として、多くの学びを得ることができました。
